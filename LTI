Para integrar tu sistema con Moodle 3 utilizando LTI (Learning Tools Interoperability), debes seguir una serie de pasos específicos. A continuación, te detallo el procedimiento para realizar esta integración:

Paso 1: Preparar tu sistema como una herramienta externa LTI
Implementar la LTI en tu sistema: Asegúrate de que tu sistema pueda actuar como una herramienta LTI. Para ello, tu sistema debe ser capaz de manejar peticiones LTI, validar las firmas OAuth, y responder con el contenido adecuado. Puedes utilizar bibliotecas y frameworks para facilitar esta tarea, como por ejemplo:

IMSGlobal's LTI Tool Provider Library for PHP
LTIJS for Node.js
LTI Tool Provider for Python
Configurar tu sistema para generar una URL de lanzamiento LTI y una clave y secreto compartidos (key y secret). Estas credenciales serán utilizadas por Moodle para autenticar y autorizar el acceso a tu herramienta.

Paso 2: Configurar Moodle para la integración LTI
Acceder a la configuración de Moodle:

Inicia sesión en Moodle como administrador.
Ve a Administración del sitio > Plugins > Gestionar herramientas externas.
Añadir una nueva herramienta externa:

Haz clic en Añadir una herramienta externa.
Completa el formulario con los detalles de tu herramienta:
Nombre de la herramienta: Un nombre descriptivo para tu herramienta.
URL de lanzamiento: La URL que tu sistema ha generado para el lanzamiento LTI.
Clave del consumidor (Consumer Key) y Secreto compartido (Shared Secret): Los valores generados por tu sistema.
Versión LTI: Asegúrate de seleccionar la versión correcta (normalmente LTI 1.1 o LTI 1.3).
Configura los parámetros adicionales según sea necesario (por ejemplo, permisos, asignación de roles, etc.).
Guarda los cambios.
Paso 3: Añadir el enlace de la herramienta externa a un curso
Acceder al curso donde deseas añadir la herramienta LTI:

Inicia sesión como profesor o administrador en Moodle.
Ve al curso deseado.
Añadir la herramienta al curso:

Activa la edición en el curso.
Añade una actividad o recurso.
Selecciona Herramienta externa.
Configura los detalles de la herramienta:
Nombre de la actividad: Un nombre descriptivo para la actividad.
Herramienta preconfigurada: Selecciona la herramienta que has configurado en los pasos anteriores.
URL de lanzamiento, Clave del consumidor y Secreto compartido deberían rellenarse automáticamente si seleccionaste una herramienta preconfigurada.
Configura los ajustes adicionales según sea necesario.
Guarda y vuelve al curso.
Paso 4: Verificar la integración
Probar el enlace:

Entra en el curso y haz clic en el enlace de la herramienta externa.
Verifica que se lanza correctamente y que los datos del usuario (por ejemplo, nombre, rol, etc.) se transmiten adecuadamente a tu sistema.
Solucionar problemas:

Si hay problemas con la integración, revisa los registros (logs) tanto en Moodle como en tu sistema LTI para identificar y resolver cualquier error de configuración o de comunicación.
Siguiendo estos pasos, deberías poder integrar tu sistema con Moodle 3 utilizando LTI y permitir que los usuarios accedan a tu herramienta directamente desde la plataforma Moodle.